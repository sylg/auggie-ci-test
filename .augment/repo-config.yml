# Repository Configuration for CI Healing
# This file is read by /ci-heal to customize behavior for this project
# Generated by: ./scripts/bootstrap-ci-commands.sh
#
# Edit this file to:
# - Adjust verification commands
# - Add custom risk overrides for your patterns
# - Configure project-specific behavior

project:
  name: auggie-ci-test
  language: typescript
  version: "5.x"
  runtime: node
  runtime_version: "20"

# Tech stack detected
stack:
  test_framework: jest
  lint_tool: eslint
  type_checker: tsc
  package_manager: npm

# Commands used for verification after applying fixes
commands:
  install: npm ci
  typecheck: npm run typecheck
  lint: npm run lint
  test: npm test
  build: npm run build
  # Full verification pipeline - run all checks
  verify_all: npm run typecheck && npm run lint && npm test && npm run build

# Project structure hints
structure:
  source_dir: src/
  test_pattern: "src/**/__tests__/*.test.ts"
  config_files:
    - tsconfig.json
    - jest.config.js
    - .eslintrc.js

# Risk overrides - customize what's auto-fixable for YOUR project
# These patterns override the default risk classification
risk_overrides:
  # Patterns that should ALWAYS be treated as low risk (auto-fix)
  low_risk:
    - "TS2322"  # Type assignment errors
    - "TS2339"  # Property does not exist
    - "TS2345"  # Argument type mismatch
    - "no-unused-vars"  # ESLint unused vars

  # Patterns that should ALWAYS be treated as high risk (never auto-fix)
  high_risk:
    - "ECONNREFUSED"      # Database/network issues
    - "ETIMEDOUT"         # Timeout issues
    - "snapshot"          # Snapshot tests need visual review
    # Add your own patterns:
    # - "prisma"          # Database migrations
    # - "migration"       # Schema changes
    # - "security"        # Security-related errors

  # Patterns to completely ignore (don't even report)
  ignore:
    - "ExperimentalWarning"
    - "DeprecationWarning"

# Commit message format for auto-fixes
commit:
  style: conventional  # conventional | simple | none
  prefix: "fix"
  include_root_cause: true
  # Example output: "fix(utils): correct return type for add function"
